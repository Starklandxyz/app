query getAllPlayers {
  entities(first:1000, keys: ["%"]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Player {
            nick_name
            joined_time
          }
          __typename
          ... on ETH {
            balance
          }
        }
      }
    }
  }
}

query getPlayerByKey($key: String) {
  entities(first:1000, keys: [$key]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Player {
            nick_name
            joined_time
          }
          __typename
          ... on ETH {
            balance
          }
        }
      }
    }
  }
}


query getBaseByKey($key: String,$map_id:String) {
  entities(first:1000, keys: [$map_id,$key]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Base {
            map_id
            owner
            x
            y
          }
        }
      }
    }
  }
}

query getUserWarriorByKey($key: String,$map_id:String) {
  entities(first:1000, keys: [$map_id,$key]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on UserWarrior {
            map_id
            owner
            balance
          }
        }
      }
    }
  }
}

query getWarriorByLocation($map_id:String,$x:String,$y:String) {
  entities(first:1000, keys: [$map_id,$x,$y]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Warrior {
            x,
            y,
            balance
          }
        }
      }
    }
  }
}


query getTrainingByKey($key: String,$map_id:String) {
  entities(first:1000, keys: [$map_id,$key]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Training {
            start_time,
            total,
            out
          }
        }
      }
    }
  }
}

query getAllBase($map_id:String) {
  entities(first:1000, keys: [$map_id,"%"]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Base {
            owner
            map_id
            x
            y
          }
        }
      }
    }
  }
}



query getLandByKey($map_id:String,$x:String,$y:String) {
  entities(first:1, keys: [$map_id,$x,$y]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Land {
            map_id,
            x,
            y,
            owner,
            building,
            level
          }
          __typename
          ... on Warrior {
            map_id,
            x,
            y,
            balance
          }
           __typename
          ... on LandCost {
            map_id,
            x,
            y,
            cost_gold
            cost_iron
            cost_food
          }
        }
      }
    }
  }
}

query getAllLands($map_id:String) {
  entities(first:1000, keys: [$map_id,"%","%"]) {
    totalCount
    edges {
      node {
        keys
        components {
          __typename
          ... on Land {
            map_id,
            x,
            y,
            owner,
            building,
            level
            
          }
          ... on LandMining {
            map_id,
            x,
            y,
            start_time,
          }
          __typename
          ... on Warrior {
            map_id,
            x,
            y,
            balance
          }
        }
      }
    }
  }
}

query getETHByKey($key: String) {
  entities(first:1000, keys: [$key]) {
    edges {
      node {
        keys
        components {
          __typename
          ... on ETH {
            balance
          }
        }
      }
    }
  }
}

query getResoucesByKey($map_id:String,$key: String) {
  entities(first:1000, keys: [$map_id,$key]) {
    edges {
      node {
        keys
        components {
          __typename
          ... on Food {
            balance
          }
          __typename
          ... on Gold {
            balance
          }
          __typename
          ... on Iron {
            balance
          }
        }
      }
    }
  }
}

query getBuildPrice($map_id:String) {
  entities(first:1000, keys: [$map_id,"%"]) {
    edges {
      node {
        keys
        components {
          __typename
          ... on BuildPrice {
            map_id
            build_type
            gold
            food
            iron
          }
        }
      }
    }
  }
}

query getTroopsByKey($map_id:String,$key: String) {
  entities(first:1000, keys: [$map_id,$key,"%"]) {
    edges {
      node {
        keys
        components {
          __typename
          ... on Troop {
            owner
            index
            balance
            from_x
            from_y
            to_x
            to_y
            start_time
            distance
          }
        }
      }
    }
  }
}


query getAllTroops($map_id:String) {
  entities(first:1000, keys: [$map_id,"%","%"]) {
    edges {
      node {
        keys
        components {
          __typename
          ... on Troop {
            owner
            index
            balance
            from_x
            from_y
            to_x
            to_y
            start_time
            distance
            retreat
          }
        }
      }
    }
  }
}